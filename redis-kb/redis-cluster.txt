===========================
REDIS CLUSTER - NON SHARDED
===========================
https://redis.io/topics/cluster-tutorial  --> on same machine

https://stackoverflow.com/questions/37655523/redis-cluster-different-machines --> on different machines 
--> with redis_trib.rb

https://www.linode.com/docs/applications/big-data/how-to-install-and-configure-a-redis-cluster-on-ubuntu-1604 --> multi mach
--> with redis_trib.rb
--> with sharding

https://www.digitalocean.com/community/tutorials/how-to-configure-a-redis-cluster-on-ubuntu-14-04 --> differenent machines 
--> more detailed 
--> with slaveof directive

https://developers.redhat.com/blog/2017/06/09/how-to-setup-a-redis-server-cluster-on-red-hat/ --> diff mach, with script

https://redislabs.com/redis-enterprise-documentation/administering/cluster-operations/new-cluster-setup/


- INSTALL RUBY
Needed for redis-trib.rb
# apt-get install ruby

- INSTALL REDIS GEM
# gem install redis

- Edit /etc/redis/redis_6380.conf
ON ALL NODES - MASTER AND SLAVE
NOTE: You can use different ports on different severs/machines/vms also

Add/uncomment:
cluster-enabled yes
cluster-config-file /etc/redis/nodes-6380.conf
cluster-node-timeout 15000

- REMOVE AUTOSTART STANDALONE REDIS ON THE PORT
(maybe NOT REQUIRED)
# update-rc.d redis_6380 remove

- Restart Redis 
NOTE: This will start Redis in cluster mode
NOTE: Do on all nodes - master and slave

/etc/init.d/redis_6380 stop
/etc/init.d/redis_6380 start

# ps -ef |grep redis
root      1069     1  0 10:04 ?        00:00:01 /usr/local/bin/redis-server 0.0.0.0:6379
root      1338     1  0 10:21 ?        00:00:00 /usr/local/bin/redis-server 0.0.0.0:6380 [cluster]

