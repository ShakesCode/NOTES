============================================================================
                         UPGRADE OEM FROM 12C TO 13C
============================================================================
Main doc - https://docs.oracle.com/cd/E73210_01/EMUPG

==================================
UPGRADE PRE-INFO
==================================
https://docs.oracle.com/cd/E73210_01/EMUPG/GUID-DE37E620-29A9-49A7-9D41-9C28E38977E1.htm#EMUPG128

- VERSIONS THAT CAN BE UPGRADED
You can upgrade only 13c Release 1(13.1.0.0), 12c Release 5 (12.1.0.5), or12c Release 4 (12.1.0.4), to 13c Release 2.

- BI PUBLISHER
If you have configured Oracle BI Publisher with 12c Release 3 (12.1.0.3), then you cannot directly upgrade to 13c Release 2. 
You must first upgrade to 12c Release 4 (12.1.0.4) or 12c Release 5 (12.1.0.5), and then upgrade to 13c Release 2.

- OUT OF PLACE UPGRADE
The upgrade operation is always an out-of-place upgrade where you see a new Oracle home for the OMS and the Management Agent. 
As a best practice, back up your old and new homes regularly.

- DB VERSION
You can upgrade only if the existing database is a database certified for 13c Release 2. 
If the existing database is not of the release that is supported for 13c Release 2, 
then upgrade it to the supported release before you start upgrading the OMS and the Management Repository.

- DB VERSION COMPATIBLE WITH 13C
12c DB

- DB UPGRADE
The upgrade approaches do NOT upgrade your existing database where the Management Repository is configured.
--> Upgrade the DB first
QUESTION 1 - CAN WE EXPORT THE SCHEMAS ON TO A NEW 12C DB AND POINT OMS TO THAT?
QUESTION 2 - IF WE UPGRADE ONTO A PDB, THEN HOW TO PROVIDE PDB'S CONNECT STRING TO OMS?
QUESTION 3 - IF WE UPGRADE AS NON-PDB DB, THEN WILL IT BE A PROBLEM?

- AGENT COMPATIBILITY
12.1.0.4 and above agents are compatible

- JAVA AND WLS
--> A preinstalled JDK or Oracle WebLogic Server is not supported from 13c Release 1 onwards.
The Enterprise Manager Cloud Control Installation Wizard installs Java Development Kit (JDK) 1.7.0_80 
and Oracle WebLogic Server 12c Release 1 (12.1.3.0) by default. 

- WLS CANNOT BE SHARED WITH OTHER MIDDLEWARE PRODUCTS
You must ensure that the Oracle WebLogic Server 12c Release 1 (12.1.3.0) installed by the Enterprise Manager Cloud Control 
Installation Wizard is dedicated for Enterprise Manager Cloud Control. 
You must not have any other Oracle Fusion Middleware product installed in that Middleware home.

Enterprise Manager Cloud Control cannot coexist with any Oracle Fusion Middleware product in the same Middleware home 
because the ORACLE_COMMON property is used by both the products.

=====================================================
WHAT IS NEWLY INSTALLED, WHAT IS UPGRADED/MIGRATED - in the upgrade process
=====================================================
Components Upgraded or Installed As Part of the Upgrade to Enterprise Manager Cloud Control 13c Release 2
The upgrade to 13c Release 2 is an out-of-place upgrade, and therefore, when you invoke the Enterprise Manager Cloud Control 13c
Installation Wizard, the wizard does the following:

Installs Oracle WebLogic Server 12c Release 1 (12.1.3.0).

Installs Java Development Kit (JDK) 1.7.0_111.

Installs Oracle Management Service 13c Release 2.

Installs Oracle JRF 12c Release 1 (12.1.3.0), which includes oracle_common directory.

Installs Oracle Web Tier 12c Release 1 (12.1.3.0).

Installs Oracle BI Publisher 12c Release 1 (12.1.3.0), which includes the bi directory. If an earlier release of Oracle BI Publisher 
is already present, then this approach upgrades that release to 12.1.3.0.

Upgrades plug-ins, carries over the already deployed plug-ins, or deploys plug-ins:

Upgrades the deployed plug-ins if newer versions are available in the Enterprise Manager Cloud Control 13c Release 2 software.

Starting with 13c Release 1, as part of the Oracle Fusion Middleware Plug-in deployment or upgrade, one Java Virtual Machine Diagnostics
(JVMD) Engine is installed by default on the OMS. For every additional OMS you deploy, you receive one JVMD Engine by default with that
OMS.

JVMD enables administrators to diagnose performance problems in Java applications in the production environment. By eliminating the need to reproduce problems, it reduces the time required to resolve these problems, thus improving application availability and performance.

While JVMD Engine is installed by default on the OMS host, you will still need JVMD Agents to be manually deployed on the targeted JVMs.
For instructions, see Installing JVM Diagnostic Agents in the Oracle Enterprise Manager Cloud Control Basic Installation Guide.

If the previous release of Enterprise Manager Cloud Control had any JVMD Engines, then they are all automatically decommissioned. However, after upgrade, the targets monitored by the previous JVMD Agents can no longer be monitored because the old JVMD Engines 
have been decommissioned. To continue monitoring those targets, you must redeploy those JVMD Agents on the targeted JVMs so that 
they communicate with the newly installed JVMD Engines.

Migrates or carries over the deployed plug-ins without upgrading them in the following cases.

If newer versions are not available in the Enterprise Manager Cloud Control 13c Release 2 software.

If the deployed plug-ins are already of the higher or same version as the ones in the Enterprise Manager Cloud Control 13c Release 2 software.

Deploys new plug-ins when the plug-ins being upgraded have new dependencies, or when there are any new default plug-ins
introduced with a release.

Deploys any additional plug-in you select.

Creates an Oracle WebLogic domain called GCDomain.

Creates a Node Manager user account called nodemanager.

Configures an Oracle Management Service Instance Base directory (gc_inst) for storing all configuration details 
related to Oracle Management Service 13c.

Upgrades Oracle Management Repository in the existing certified Oracle Database.

