=================================================
            ORACLE BACKUP AND RECOVERY
=================================================

================
RMAN BASICS
================
https://docs.oracle.com/database/121/BRADV/rcmquick.htm#BRADV89348
When connecting to 12c DB, connect to root or pluggable database

Connect to a db:
$ rman target user/pass@conn_string as sysbackup
  Alternatively $rman, RMAN> connect target user/pass@conn_string as sysbackup
  Similarly for rest of connect commands as below
  
$ rman target / (connects to local db as sys)
$ rman auxiliary /

With logging:
$ rman TARGET / LOG /tmp/msglog.log APPEND

Show configuration:
RMAN> show all;

RMAN configuration parameters for database with db_unique_name DBNAME_SITE1 are:
CONFIGURE RETENTION POLICY TO REDUNDANCY 1; # default
CONFIGURE BACKUP OPTIMIZATION OFF; # default
CONFIGURE DEFAULT DEVICE TYPE TO DISK; # default
CONFIGURE CONTROLFILE AUTOBACKUP OFF; # default
CONFIGURE CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK TO '%F'; # default
CONFIGURE DEVICE TYPE DISK PARALLELISM 1 BACKUP TYPE TO BACKUPSET; # default
CONFIGURE DATAFILE BACKUP COPIES FOR DEVICE TYPE DISK TO 1; # default
CONFIGURE ARCHIVELOG BACKUP COPIES FOR DEVICE TYPE DISK TO 1; # default
CONFIGURE MAXSETSIZE TO UNLIMITED; # default
CONFIGURE ENCRYPTION FOR DATABASE OFF; # default
CONFIGURE ENCRYPTION ALGORITHM 'AES128'; # default
CONFIGURE COMPRESSION ALGORITHM 'BASIC' AS OF RELEASE 'DEFAULT' OPTIMIZE FOR LOAD TRUE ; # default
CONFIGURE RMAN OUTPUT TO KEEP FOR 7 DAYS; # default
CONFIGURE ARCHIVELOG DELETION POLICY TO NONE; # default
CONFIGURE SNAPSHOT CONTROLFILE NAME TO '/u01/app/oracle/product/12.1.0.2/dbs/snapcf_RL4DB21.f'; # default

===========================
BACKUP - FULL+ARCH, TO DISK
===========================
RMAN> BACKUP DATABASE PLUS ARCHIVELOG;
RMAN> BACKUP DATABASE PLUS ARCHIVELOG DELETE INPUT;  (to delete archivelogs after backup)
